# 서비스 제공자 인터페이스(SPI)
## SPI(Service Provider Interface)
SPI는 프레임워크나 라이브러리에서 특정 기능을 확장할 수 있도록 정의한 인터페이스이다.
Java 6에 도입된 `Service Loader`를 이용하면 런타임에 SPI의 구현체를 동적으로 검색하고 로드할 수 있어, 애플리케이션의 확장성을 높일 수 있다.

JDBC, Java Image I/O, Java File Systems 등 자바 표준 라이브러리에서도 널리 사용된다.

### API와 SPI의 차이점
보통의 API는 구현한 기능을 외부에 인터페이스 형태로 공개하고, 사용자는 기능을 사용한다.
반면에 SPI는 사용자가 구현해야 할 인터페이스를 정의한다. 사용자가 해당 인터페이스를 구현하면 SPI 제공자가 사용하는 형태로 동작한다.

**API**(Application Programming Interface)<br>
- 특정 기능에 호출할 수 있도록 제공하는 인터페이스이다.
- 보통 라이브러리나 프레임워크가 제공하며, 개발자는 해당 기능을 사용하는 입장이다.
- **제공자가 구현하고 사용자가 호출**하는 인터페이스이다.

**SPI**(Service Provider Interface)<br>
- 특정 기능을 확장할 수 있도록하기 위해 정의한 인터페이스이다.
- 개발자는 이 인터페이스를 직접 구현해서 서비스 제공자로서 동작할 수 있다.
- **사용자가 구현하고 제공자가 호출**하는 인터페이스이다.

## 주요 구성 요소
### 서비스
특정 애플리케이션 기능이나 특징에 대한 액세스를 제공하는 잘 알려진 프로그래밍 인터페이스 및 클래스 집합을 말한다.

### 서비스 제공자 인터페이스(SPI)
서비스의 프록시 또는 엔드포인트 역할을 하는 인터페이스 또는 추상 클래스이다.

### 서비스 제공자
SPI 인터페이스의 특정 구현이다.

서비스 제공자는 리소스 디렉터리 `META-INF/services`에 있는 공급자 설정 파일을 통해 식별된다.
파일 이름은 SPI의 *정규화된 이름*이고, 파일 내용은 SPI 구현의 *정규화된 이름*이다.

> **정규화된 이름**: 패키지 경로와 클래스 이름이 결합된 형태. (com.example.MyApp)

### 서비스 로더(Service Loader)
SPI의 핵심 클래스로 구현을 지연 검색하고 로드하는 역할을 한다.
컨텍스트 클래스 경로를 사용하여 구현을 찾아 내부 캐시에 저장한다.

---
**Reference**
- https://www.baeldung.com/java-spi
- https://en.wikipedia.org/wiki/Service_provider_interface
