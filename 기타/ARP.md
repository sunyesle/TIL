# ARP(Address Resolution Protocol)
## IP와 MAC을 모두 사용하는 이유
호스트 간 통신에서 호스트는 IP를 이용하여 목적지를 지정하지만, 실제 데이터 이동을 위해 MAC 주소를 함께 이용한다.

**실질적인 통신**은 바꿀 수 없는 하드웨어 주소인 **MAC 주소**를 통해서 하고, 논리적인 **IP 주소**는 **라우팅**(최적의 경로 찾기)을 위한 주소이기 때문이다.

## ARP란
> **ARP**는 IP 주소와 MAC 주소를 매칭시키기 위한 프로토콜이다.

호스트에서 최초로 통신을 시도할 때, 패킷을 바로 캡슐화할 수 없다.

출발지와 목적지 IP 주소는 미리 알고 있어 3계층 캡슐화에는 문제가 없지만, 상대방의 MAC 주소를 알 수 없어 2계층 캡슐화를 수행할 수 없기 때문이다.

이때 상대방의 MAC 주소를 알아내기 위해 ARP가 사용된다.

## ARP 동작
- 상대방의 MAC 주소를 알아내기 위해 ARP 브로드캐스트를 이용해 네트워크 전체에 상대방 MAC 주소를 질의한다.
- ARP 브로드캐스트를 받은 목적지는 ARP 프로토콜을 이용해 자신의 MAC 주소를 응답한다.
- 이 작업에 의해 출발지, 목적지 둘 다 상대방에 대한 MAC 주소를 학습한다.

---
**Reference**<br>
- https://aws-hyoh.tistory.com/70
- https://chaelin1211.github.io/study/2021/06/05/ARP.html
