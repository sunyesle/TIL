# Observability

## Monitoring과의 차이점
### Monitoring
모니터링의 목적은 시스템의 상태를 실시간으로 관찰하고 이상을 조기에 감지하는 것이다.
사전에 정의된 메트릭(metric)을 주기적으로 수집하며, 정해진 임계치를 초과하거나 조건을 만족할 경우 경고를 발생시킨다.

예를 들어, CPU 사용률이 80%를 초과하거나 API 응답 시간이 2초를 넘을 경우, 모니터링 시스템은 이를 감지해 경고를 보낼 수 있다.

### Observability
Observability의 목적은 로그, 메트릭, 트레이스 등의 시간이 추적을 통해 시스템의 내부 상태를 파악하고, 문제가 발생했을 때 원인을 찾아내는 것이다.

예를 들어, 웹사이트가 예상치 못하게 느려지기 시작하면 관찰 도구를 사용하여 데이터 패턴을 분석하고, 요청을 추적하고, 로그를 검토하여 최근 코드 배포로 인해 메모리 누수가 발생하여 응답시간이 느려졌음을 파악할 수 있다.

> **Monitoring**은 시스템에 이상이 발생했음을 알려주고, **Observability**는 시스템에 이상이 발생한 원인을 파악하는데 도움을 준다.

## 주요 관측 요소 3가지
### Logs
시스템에서 발생한 이벤트를 기록한 데이터이다.
로그에는 일반적으로 이벤트가 발생한 시점, 심각도, 설명과 같은 정보가 포함된다.

### Metrics
시스템의 상태를 나타내는 특정 시점의 측정 값(숫자)이다.
예를 들어, CPU 사용률, 사용 가능한 메모리 양, 초당 HTTP 요청 수 등이 있다.

메트릭을 통해 시간경과에 따른 시스템의 동작 추세와 패턴을 파악할 수 있다.

### Traces
시스템 내부의 요청 흐름을 추적한 데이터
하나의 요청(Trace)은 여러 개의 Span으로 구성될 수 있다.

예를 들어, 마이크로서비스로 구성된 쇼핑몰 애플리케이션에서 사용자가 주문을 하면 주문, 재고, 결제 서비스와 통신하게 된다.
이때, Trace는 하나의 주문 요청이 시스템을 통과하는 전체 과정을 나타내며, Span은 마이크로서비스간 호출, 데이터베이스 쿼리 등 개별 작업 단위를 의미한다.

트레이스를 통해 분산 시스템에서 요청이 어떤 서비스를 거치는지, 각 서비스에서 얼마만큼의 시간이 소요되었는지 확인할 수 있다.

---
**Reference**<br>
- https://devopscube.com/what-is-observability/
- https://velog.io/@gun_123/Cloud-Native-Observability-Observability-Fundamentals
- https://huisam.tistory.com/entry/observability
- https://nangman14.tistory.com/69
