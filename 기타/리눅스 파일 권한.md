# 리눅스 파일 권한
## 권한 확인
```bash
ls -al

drwxrwxrwx 1 root root 4096 12월 9 17:32 testdir
-rw-r--r-- 1 root root 4096 12월 9 17:33 testfile
```
testfile을 기준으로 다음을 의미한다.
- `-`: 파일표시 (`-`:파일, `d`:디렉토리, `l`:링크)
- `rw-`: 소유자 권한 (`r`:읽기, `w`:쓰기, `x`:실행)
- `r--`: 그룹 권한
- `r--`: 다른사용자 권한
- `1`: 링크 수
- `root`: 소유자
- `root`: 소유자 그룹
- `0`: 파일 크기
- `12월 9 17:33`: 수정일시
- `testfile`: 파일이름

## 권한 설정
### 1. 숫자를 이용한 방법
<table>
  <tr>
    <th colspan="3">사용자(User)</th>
    <th colspan="3">그룹(Group)</th>
    <th colspan="3">다른사용자(Other)</th>
  </tr>
  <tr>
    <td>r</td><td>w</td><td>x</td><td>r</td><td>w</td><td>x</td><td>r</td><td>w</td><td>x</td>
  </tr>
  <tr>
      <td>4</td><td>2</td><td>1</td><td>4</td><td>2</td><td>1</td><td>4</td><td>2</td><td>1</td>
  </tr>
  <tr>
    <td colspan="3" align="center">7</td>
    <td colspan="3" align="center">7</td>
    <td colspan="3" align="center">7</td>
  </tr>
</table>

- `rwx`: 7 (4+2+1)
- `rw-`: 6 (4+2+0)
- `r-x`: 5 (4+0+1)
- `r--`: 4 (4+0+0)
- `-wx`: 3 (0+2+1)
- `-w-`: 2 (0+2+0)
- `--x`: 1 (0+0+1)

> **예시**
> - `rwxrwxrwx` = 777
> - `rwxr-xr-x` = 755
> - `rw-r--r--` = 644

```bash
# chmod [권한] [파일 또는 디렉토리]

# 소유자:읽기/쓰기/실행, 그룹: 읽기/실행, 다른사용자: 읽기/실행 권한 부여
chmod 755 testfile
```

### 2. 기호를 이용한 방법
**권한 기호**
- 읽기: `r` (read)
- 쓰기: `w` (write)
- 실행: `x` (execute)

**허용 대상**
- 파일소유자: `u` (User)
- 그룹: `g` (Group)
- 기타: `o` (Other)
- 모두: `a` (All) 

**허가 여부**
- 허가: `+`
- 삭제: `-`
- 모두삭제: `=`


```bash
# chmod [ugoa(허용대상)][+-=(허가여부)][rwx(권한)] 파일명

# 파일의 소유자에게 읽기/쓰기 권한 부여
chmod u+rw testfile

# 소유자와 그룹에 속하는 유저에게 쓰기 권한 삭제
chmod ug-w testfile
```

## 소유자 설정
```bash
# chown [옵션] [소유자][:[그룹]] [파일 또는 디렉토리]

# 소유자를 testuser로 변경한다.
chown testuser testfile

# 소유자를 testuser, 그룹을 testgroup으로 변경한다.
chown testuser:testgroup testfile

# -R: 하위 파일/디렉터리의 전체의 소유자를 재귀적으로 변경한다.
chown -R testuser testdir
```

---
**Reference**
- https://danmilife.tistory.com/8
- https://rhrhth23.tistory.com/47
