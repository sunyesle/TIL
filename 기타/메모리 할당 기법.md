# 메모리 할당 기법

![memory allocation](https://github.com/user-attachments/assets/5dee664f-9fbd-4bf2-a663-67e0b73b0ce4)

## 연속 메모리 할당
메모리에 연속적으로 공간를 할당하는 방식이다.

### 고정 분할 방식
메모리 영역을 분할한 뒤 각 영역에 프로세스를 할당하는 방식이다.

분할된 영역의 크기는 서로 다를 수 있으며, 분할된 크기는 고정된다.

메모리에 올릴 수 있는 프로세스의 수와 크기가 제한된다는 단점이 있다.

내부 단편화 문제가 발생할 수 있다.

### 가변 분할 방식
할당할 프로세스의 크기에 따라 동적으로 메모리 공간을 분할하는 방식이다.

외부 단편화 문제가 발생할 수 있다.

- **최초적합**: 적재할 수 있는 공간을 발견하면 바로 할당
- **최적적합**: 빈 공간을 모두 검색한 다음, 적재할 수 있는 작은 공간에 할당
- **최악적합**: 빈 공간을 모두 검색한 다음, 적재할 수 있는 가장 큰 공간에 할당

## 불연속 메모리 할당
프로세스의 메모리 영역을 나눠서 메모리 공간에 할당하는 방식이다.

### 페이징(Paging)
프로세스를 동일한 크기의 페이지 단위로 **고정 분할**하여, 이를 메모리에 불연속적으로 할당하는 방식이다.

페이징 기법은 가상 메모리와 물리 메모리 공간을 고정 크기의 블록으로 나눈다.
가상 메모리 공간의 블록을 **페이지**(page)라고 하고, 물리 메모리 공간의 블록을 **프레임**(frame)이라고 한다.

페이지를 프레임에 할당하게 되며, 매핑 정보는 **페이지 테이블**(page table)로 관리된다.

큰 사이즈의 메모리를 잘게 나누어 할당할 수 있기 때문에 외부 단편화 문제를 해결할 수 있다.<br>
하지만 고정된 크기의 블록으로 나누어 저장하기 때문에 내부 단편화가 발생할 수 있다.

### 세그먼테이션(Segmentation)
프로세스를 의미 단위인 세그먼트로 **가변 분할**하여, 이를 메모리에 불연속적으로 할당하는 방식이다.

코드, 데이터, 스택 등의 의미 있는 단위들로 **세그먼트**(segment)를 정의한다. 세그먼트의 크기는 균일하지 않다.

매핑 정보는 **세그먼트 테이블**(segment table)로 관리된다.

프로세스가 필요한 만큼 할당해 주기 때문에 내부 단편화 문제를 해결할 수 있다.<br>
하지만 중간에 메모리가 해제된다면 외부 단편화가 발생할 수 있다.

--- 
**Reference**<br>
- https://jaynamm.tistory.com/m/entry/%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%8B%A8%ED%8E%B8%ED%99%94-Memory-Fragmentation
- https://kimyu0218.tistory.com/82
- https://zangzangs.tistory.com/134
- https://zangzangs.tistory.com/140
- https://velog.io/@kyeun95/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%97%B0%EC%86%8D-%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9
- https://thebook.io/080367/0061/
